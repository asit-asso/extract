<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<!--
Copyright (C) 2017 arx iT

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/masterNoNavigation}">
    <head>
        <title>[[#{application.name}]]&nbsp;&ndash; [[#{passwordResetForm.page.title}]]</title>
        <!--
            The following stylesheet links are only set for GUI validation purposes. They will be ignored by the
            templating engine.
        -->
    </head>
    <body>
        <div class="container-fluid">
            <th:block layout:fragment="content">
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="alert alert-dismissible alert-danger" th:if="${errorMessage}">
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"
                                    data-bs-toggle="tooltip"
                                    th:attr="aria-label=#{message.close}" th:title="#{message.close}" title="{Close}">
                            </button>
                            <h4 th:text="#{errors.panel.title}">{Error}</h4>
                            <div th:text="${#messages.msg(errorMessage)}">{Error}</div>
                        </div>
                        <div class="login-card card card-default">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <img src="../static/images/extract_logo.png" th:src="@{/images/extract_logo.png}" />
                                    <span class="login-card-title" th:text="#{passwordResetForm.body.title}">
                                        {Password reset}
                                    </span>
                                </h3>
                            </div>
                            <div class="card-body">
                                <form action="#" th:action="@{/passwordReset/reset}" method="POST">
                                    <p th:text="#{passwordResetForm.message.sent}">
                                        {A message has been sent to you.}
                                    </p>
                                    <p th:text="#{passwordResetForm.message.notReceived}">
                                        {If you don't received it, see with your admin.}
                                    </p>
                                    <input type="hidden" id="_csrf" th:value="${_csrf.token}" />
                                    <div class="form-group form-group-with-label">
                                        <label for="token" class="form-label col-form-label"
                                               th:text="#{passwordResetForm.fields.token.label}" />
                                        <span class="mandatory" data-bs-toggle="tooltip"
                                              th:title="#{field.mandatory.tooltip}"></span>
                                        <input type="text" id="token" name="token" class="form-control" />
                                    </div>
                                    <div class="form-group form-group-with-label">
                                        <label for="password" class="form-label col-form-label"
                                               th:text="#{passwordResetForm.fields.password.label}" />
                                        <span class="mandatory" data-bs-toggle="tooltip" autocomplete="off"
                                              th:title="#{field.mandatory.tooltip}"></span>
                                        <input type="password" id="password" name="password" class="form-control" />
                                    </div>
                                    <div class="form-group form-group-with-label">
                                        <label for="passwordConfirmation" class="form-label col-form-label"
                                               th:text="#{passwordResetForm.fields.passwordConfirmation.label}" />
                                        <span class="mandatory" data-bs-toggle="tooltip" autocomplete="off"
                                              th:title="#{field.mandatory.tooltip}"></span>
                                        <input type="password" id="passwordConfirmation" name="passwordConfirmation"
                                               class="form-control" />
                                    </div>
                                    <button type="submit" id="submitButton" class="btn btn-extract-filled mt-3"
                                            th:text="#{passwordResetForm.buttons.submit.label}">{Reset password}</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </body>
</html>
